<form #productSelectionInput class="ProductSelectionContext">
  <label class="ProductSelectionBoxText" for="fname">Point ID: {{selected_point}}</label>
  <label class="ProductSelectionBoxText" for="fname">Update Point Products:</label>

  <div class="dropdown">
    <select class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onmousedown="(function(e){ e.preventDefault(); })(event, this)">
      <option value="Message">{{numberOfSelectedProducts}} Product(s) Selected</option>
    </select>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <ng-container *ngFor="let product of listOfProducts">
        <div class="form-check">
          <label class="products">
            <input type="checkbox" 
                name="products" 
                value={{product.value}}
                [checked]="product.checked"
                (change)="updateCheckedProduct(product, $event)"/>
            {{product.name}}
          </label>
        </div>
      </ng-container>
    </div>
  </div>
  

  <!-- <select #FunctionTextToCV name="cvFunction" id="cvFunction">
    <option value="GrayImage">Gray Image</option>
    <option value="ImageThresholding">Image Thresholding</option>
    <option value="TextDetection">Text Detection</option>
  </select>
  <label class="cvBoxText" for="fname">Function Parameters:</label>
  <textarea #TextToCV class="cvBoxTextArea" name="TextArea" cols="25" rows="5"></textarea> -->
  <input class="button" type="button" value="Update" (click)="UpdatePointProductsList()">
</form>

<form #MetaData class="MetaDataContext">
  <label class="MetaBoxText" for="fname">MetaData Editor:</label>
  <textarea #MetaDataText class="MetaDataTextArea" name="TextArea" cols="25" rows="5"></textarea>
  <input type="button" value="Update" (click)="SendMetaData()">
</form>

<div #area class="menu-area" (contextmenu)="contextMenu($event)" (click)="OnClick($event)">
  <canvas #canvas id="canvas" width="1000" height="600"></canvas>
    <div class="customContext" (click)="stopPropagation($event)" #menu>
      <ul>
        <li [hidden]="CheckPermission()" (click)="EditPositionsMode()">Edit Point Positions</li>
        <li [hidden]="CheckPermission()" (click)="PointProductsUpdateMode()">Edit Point Products</li>
        <li (click)="SelectStartingPointMode()">Set Starting Point</li> <!--No Permission Required-->

        <!-- <li [hidden]="CheckPermission()" (click)="RemovePointsMode()">Remove Point</li> -->
        <!-- <li [hidden]="CheckPermission()" (click)="RemoveConnectionsMode()">Remove Connection</li> -->

        <li [hidden]="CheckPermission()" (click)="DrawPoint()">Add Point</li>
        <li [hidden]="CheckPermission()" (click)="AddConnectionsMode()">Add Connection</li>
        
        
        <li [hidden]="CheckPermission()" (click)="CallMetaData()">Edit Metadata</li>
        <li [hidden]="CheckPermission()" (click)="SaveMetadata()">Save Metadata</li>
        <li [hidden]="CheckPermission()" (click)="ClearAnnotations()">Clear All</li>

        <!-- <li (click)="FreeDrawLine()">Free Draw</li> -->
        <!-- <li (click)="Text()">Text</li> -->
        <!-- <li (click)="DrawPolyline()">Polyline</li> -->
        <!-- <li (click)="DrawPolygon()">Polygon</li> -->
        <!-- <li (click)="DrawRectangle()">Rectangle</li> -->
      </ul>
    </div>
</div>

<input #textInput type="text" class="textInputPosition" (keyup.enter)="OnEnter($event)"/>
